# План тестирования системы автоматизированного оценивания студентов

## 1. Введение

### 1.1 Назначение документа
Настоящий документ описывает стратегию, подходы, виды и сценарии тестирования системы автоматизированного оценивания студентов на основе предоставленной документации и диаграмм бизнес-процессов.

### 1.2 Объект тестирования
Веб-приложение с микросервисной архитектурой для автоматизации процесса создания, выполнения, сдачи и оценивания учебных работ с использованием критериального подхода.

### 1.3 Цели тестирования
- Подтверждение соответствия системы функциональным требованиям
- Проверка нефункциональных характеристик (производительность, безопасность, надежность)
- Верификация бизнес-логики оценивания
- Подтверждение корректности интеграций
- Обеспечение качества пользовательского интерфейса

---

## 2. Подходы и стратегии тестирования

### 2.1 Уровни тестирования
| Уровень | Объект тестирования | Инструменты/Подходы |
|---------|---------------------|---------------------|
| Модульное | Отдельные сервисы, функции, классы | Jest, Pytest, UnitTest |
| Интеграционное | Взаимодействие между сервисами, интеграции | Postman, SoapUI, Docker Compose |
| Системное | Полная система в среде, близкой к боевой | Selenium, Cypress, JMeter |
| Приемочное | Соответствие бизнес-требованиям | Ручное тестирование, User Acceptance Testing |

### 2.2 Виды тестирования
- **Функциональное** - проверка бизнес-логики
- **Нагрузочное** - проверка производительности (10 000 пользователей)
- **Безопасности** - проверка авторизации, шифрования
- **Юзабилити** - удобство интерфейса для преподавателей и студентов
- **Регрессионное** - после изменений в коде

---

## 3. Тестовые среды

### 3.1 Окружения для тестирования
| Окружение | Назначение | Конфигурация |
|-----------|------------|--------------|
| Development | Модульное и интеграционное тестирование | Локальные сервисы, имитации внешних систем |
| Staging | Системное и нагрузочное тестирование | Полный стенд, аналогичный production |
| Production-like | Приемочное тестирование | Максимально приближенное к боевому |

---

## 4. Функциональное тестирование

### 4.1 Основные сценарии (по диаграммам бизнес-процессов)

#### Сценарий 1: Создание задания преподавателем *(проверяет FR-02, FR-03)*
**Предусловия:** Преподаватель авторизован в системе
**Шаги:**
1. Переход в раздел "Создание задания"
2. Заполнение описания задания
3. Установка сроков выполнения
4. Прикрепление материалов
5. Определение критериев оценки (3 критерия как на диаграмме)
6. Сохранение задания
**Ожидаемый результат:** Задание создано, студенты получили уведомления

#### Сценарий 2: Выполнение и сдача работы студентом *(проверяет FR-04)*
**Предусловия:** Студент авторизован, есть активное задание
**Шаги:**
1. Просмотр задания в личном кабинете
2. Загрузка выполненной работы
3. Подтверждение сдачи
**Ожидаемый результат:** Работа загружена, преподаватель получил уведомление

#### Сценарий 3: Критериальное оценивание (положительный случай) *(проверяет FR-05, FR-06)*
**Предусловия:** Работа сдана, все критерии выполнены
**Шаги:**
1. Преподаватель открывает работу
2. Система проверяет критерии:
   - Тема раскрыта полностью - ✅
   - Ответы на дополнительные вопросы полные - ✅
   - Минимальное количество ошибок - ✅
3. Система считает: все критерии выполнены
4. Определение оценки: 5
**Ожидаемый результат:** Оценка 5 выставлена автоматически

#### Сценарий 4: Критериальное оценивание (варианты оценок)
| Критерии | Ошибки | Ожидаемая оценка | Комментарий |
|----------|--------|------------------|-------------|
| Все выполнены | Нет | 5 | Идеальное выполнение |
| Все выполнены | Небольшие | 4 | Матрица оценок |
| 1-2 не выполнены | Значительные | 3 | По диаграмме |
| Все не выполнены | По теме | 2 | Возврат на доработку |
| Все не выполнены | Не по теме | Возврат | Бизнес-правила |

### 4.2 Тест-кейсы для функционального тестирования

#### Группа: Управление пользователями
| **ID Требования** | **ID Теста** | Название | Предусловия | Шаги | Ожидаемый результат |
|-------------------|--------------|----------|-------------|------|---------------------|
| **FR-01** | TC-AUTH-01 | Регистрация преподавателя | Нет аккаунта | Заполнить форму регистрации, выбрать роль "Преподаватель" | Аккаунт создан, подтверждение на email |
| **FR-01** | TC-AUTH-02 | Авторизация через LDAP | Настроен LDAP | Ввести корпоративные учетные данные | Успешный вход, роли загружены |
| **FR-01** | TC-AUTH-03 | Разделение ролей | Преподаватель и студент авторизованы | Проверить доступные функции | Преподаватель видит создание заданий, студент - только сдачу |

#### Группа: Критериальное оценивание
| **ID Требования** | **ID Теста** | Название | Предусловия | Шаги | Ожидаемый результат |
|-------------------|--------------|----------|-------------|------|---------------------|
| **FR-05, FR-06** | TC-GRADE-01 | Автоматическая оценка 5 | Все критерии выполнены без ошибок | Загрузить идеальную работу | Система автоматически ставит 5 |
| **FR-05, FR-06** | TC-GRADE-02 | Автоматическая оценка 4 | Все критерии выполнены, есть небольшие ошибки | Загрузить работу с незначительными ошибками | Система автоматически ставит 4 |
| **FR-05, FR-06** | TC-GRADE-03 | Автоматическая оценка 3 | 1-2 критерия не выполнены | Загрузить работу с пропусками | Система автоматически ставит 3 |
| **FR-05, FR-06** | TC-GRADE-04 | Автоматическая оценка 2 | Все критерии не выполнены | Загрузить несоответствующую работу | Система автоматически ставит 2 |
| **FR-05, FR-07** | TC-GRADE-05 | Ручная корректировка оценки | Автоматическая оценка 4 | Преподаватель меняет оценку на 5 | Оценка изменена, комментарий сохранен |
| **FR-07, FR-10** | TC-GRADE-06 | Возврат на доработку | Оценка 2 | Преподаватель возвращает работу | Студент получает уведомление, работа доступна для пересдачи |

---

## 5. Интеграционное тестирование

### 5.1 Интеграции для тестирования
1. **LDAP/OAuth сервис** - аутентификация
2. **S3-совместимое хранилище** - загрузка/выгрузка файлов
3. **Email/SMS сервис** - отправка уведомлений
4. **Внешние журналы успеваемости** (опционально)

### 5.2 Тест-кейсы интеграций
| **ID Требования** | **ID Теста** | Интеграция | Сценарий | Ожидаемый результат |
|-------------------|--------------|------------|----------|---------------------|
| **FR-04** | TC-INT-01 | S3 хранилище | Загрузка файла работы | Файл сохранен в S3, ссылка в БД |
| **FR-08** | TC-INT-02 | Email уведомления | Создание нового задания | Все студенты курса получили email |
| **FR-01** | TC-INT-03 | LDAP | Авторизация преподавателя | Учетные данные проверены, роль определена |

---

## 6. Нефункциональное тестирование

### 6.1 Производительность
**Цель:** Проверить требование ≤30 секунд на проверку работы

**Тестовый сценарий:**
1. Нагрузка: 100 одновременных проверок
2. Измерение: Время от загрузки работы до выставления оценки
3. Критерий успеха: 95% запросов ≤30 секунд

### 6.2 Нагрузочное тестирование
**Цель:** Поддержка 10 000 одновременных пользователей

**Тестовые профили:**
- 7 000 студентов: просмотр заданий, загрузка работ
- 3 000 преподавателей: проверка работ, создание заданий

### 6.3 Тестирование безопасности
**Области проверки:**
1. Авторизация и аутентификация
2. Шифрование передаваемых данных
3. Защита от SQL-инъекций
4. Разделение доступа по ролям
5. Валидация загружаемых файлов

### 6.4 Тестирование удобства использования
**Критерии:**
1. Интуитивность интерфейса для обеих ролей
2. Адаптивность под мобильные устройства
3. Время выполнения ключевых операций:
   - Создание задания: ≤5 минут
   - Загрузка работы: ≤1 минуты
   - Проверка работы: ≤10 минут

---

## 7. Автоматизация тестирования

### 7.1 Области для автоматизации
1. **API тесты** - REST endpoints всех сервисов
2. **Юнит-тесты** - критичная бизнес-логика (алгоритм оценивания)
3. **E2E тесты** - ключевые пользовательские сценарии
4. **Нагрузочные тесты** - регулярные проверки производительности

### 7.2 Инструменты
| Тип тестирования | Инструмент | Обоснование |
|------------------|------------|-------------|
| Юнит-тесты (Node.js) | Jest | Поддержка асинхронности, моки |
| Юнит-тесты (Python) | Pytest | Гибкость, фикстуры |
| API тестирование | Postman/Newman | Коллекции, автоматизация |
| E2E тестирование | Cypress | Современный, хорошая документация |
| Нагрузочное тестирование | k6 | Производительность, интеграция с CI |

---

## 8. Критерии приемки тестирования

### 8.1 Критерии начала тестирования
1. Все сервисы развернуты в staging-окружении
2. База данных заполнена тестовыми данными
3. Настроены интеграции с тестовыми версиями внешних сервисов
4. Доступна документация API

### 8.2 Критерии завершения тестирования
1. **Функциональное тестирование:** 100% тест-кейсов выполнены, 95% успешно
2. **Интеграционное тестирование:** Все интеграции проверены
3. **Производительность:** Соответствие требованиям подтверждено
4. **Безопасность:** Проверены основные уязвимости
5. **Критические баги:** Все исправлены
6. **Некритические баги:** Приоритетные исправлены, остальные задокументированы

### 8.3 Критерии готовности к production
1. Успешное приемочное тестирование с участием преподавателей и студентов
2. Достигнуты показатели производительности
3. Подтверждена работа резервного копирования
4. Составлен план развертывания и отката

---

## 9. График тестирования

### 9.1 Этапы
| Этап | Длительность | Ответственные |
|------|--------------|---------------|
| Подготовка тестовой среды | 3 дня | DevOps, QA |
| Модульное и интеграционное тестирование | 5 дней | Разработчики, QA |
| Системное тестирование | 7 дней | QA |
| Нагрузочное тестирование | 3 дня | QA, DevOps |
| Приемочное тестирование | 5 дней | Бизнес-аналитики, конечные пользователи |
| Регрессионное тестирование | 2 дня | QA |

**Общая длительность:** 25 рабочих дней

### 9.2 Риски и митигация
| Риск | Вероятность | Влияние | Меры снижения |
|------|-------------|---------|---------------|
| Недоступность внешних сервисов | Средняя | Высокое | Использование заглушек в тестах |
| Неполные тестовые данные | Высокая | Среднее | Разработка скриптов генерации данных |
| Изменение требований в процессе тестирования | Средняя | Высокое | Гибкий план тестирования, приоритизация |

---

## 10. Отчетность и метрики

### 10.1 Метрики качества
1. **Покрытие кода тестами:** Цель ≥80% для критичных модулей
2. **Количество найденных дефектов:** Динамика по дням
3. **Соотношение критичности багов:** Critical/Major/Minor
4. **Время выполнения тестов:** Ускорение при автоматизации

### 10.2 Отчеты
1. **Ежедневный отчет:** Прогресс тестирования, найденные баги
2. **Отчет по завершении этапа:** Результаты, метрики, рекомендации
3. **Финальный отчет:** Готовность к production, оставшиеся риски
